::: {.aspNetHidden}
:::

::: {.aspNetHidden}
:::

::: {#_radAjaxManager_dnnSU}
[]{#_radAjaxManager_dnn style="display:none;"}
:::

::: {.totop style="display:none;"}
 ![](/Portals/_default/Skins/Favourite/images/top.png)
:::

::: {#Container}
::: {#MainWrapper}
::: {#HeaderTop}
::: {.row-fluid}
::: {#dnn_TopLeftPane .span5 .hidden-phone .TopLeft .DNNEmptyPane}
:::

::: {#login .span3 .hidden-phone}
::: {#dnn_dnnUser_registerGroup .registerGroup}
-   [Register](http://www.embedded101.com/Register?returnurl=http%3a%2f%2fwww.embedded101.com%2f "Register"){#dnn_dnnUser_enhancedRegisterLink}
:::

::: {#dnn_dnnLogin_loginGroup .loginGroup}
[Login](http://www.embedded101.com/Login?returnurl=%2fHome%2fentryid%2f560 "Login"){#dnn_dnnLogin_enhancedLoginLink
.LoginLink}
:::
:::

::: {.language .LangHome .span1}
::: {.language-object}
:::
:::

::: {#dnn_SocialPane .span3 .Social .TopRight .DNNEmptyPane}
:::
:::
:::

::: {.StickyHeader}
::: {#Header}
::: {.row-fluid}
::: {.Hpage}
::: {#Logo .span3 .Logo .MustCentered}
[![Embedded101](/Portals/0/e101_Logo_OneColor_86_180_v2.jpg?ver=2014-09-23-004053-190){#dnn_dnnLogo_imgLogo}](http://www.embedded101.com/ "Embedded101"){#dnn_dnnLogo_hypLogo}
:::

::: {#Mainmenu .span8 .Menu}
::: {#Mmenu .MenuRight}
::: {.HidePhones}
::: {#dnn_MENU1}
-   [Home](http://www.embedded101.com/)
-   [Blogs](http://www.embedded101.com/Blogs)
-   [Articles](http://www.embedded101.com/Articles)
-   [Download](http://www.embedded101.com/Download)
-   [About](http://www.embedded101.com/About)
:::
:::
:::

::: {#MobileMenu}
::: {#mobile .visible-phone}
::: {#toggle-bar}
**[Go to\...](#){.mtoggle}**[MAIN MENU](#){.navicon .mtoggle}
:::

-   [Home](http://www.embedded101.com/)
-   [Blogs](http://www.embedded101.com/Blogs)
-   [Articles](http://www.embedded101.com/Articles)
-   [Download](http://www.embedded101.com/Download)
-   [About](http://www.embedded101.com/About)
:::
:::
:::

::: {.span1 .slideSearch .hidden-phone}
::: {.MainSearchIcon}
:::

::: {.SlideSearchButton .hiddenSearch}
::: {.SearchArrow}
:::

::: {#Search .hidden-phone}
::: {#dnn_SEARCH1_DropDownSearch .SearchContainer}
::: {.SearchBorder}
::: {#SearchIcon .SearchIcon}
![Select the search
type](/icons/Sigma/Action_16X16_Standard.png "Select the search type"){#dnn_SEARCH1_downArrow}
:::

[ []{.dnnSearchBoxClearText} ]{.searchInputContainer
data-moreresults="See More Results" data-noresult="No Results Found"}

-   [Site]{#SearchIconSite}
-   [Web]{#SearchIconWeb}
:::

[Search](javascript:__doPostBack('dnn$SEARCH1$cmdSearchNew','')){#dnn_SEARCH1_cmdSearchNew
.SkinObject .SearchButton}
:::
:::
:::
:::
:::
:::
:::
:::

::: {#Banner}
::: {#dnn_BannerPane .Banner .DNNEmptyPane}
:::
:::

::: {#BodyTop}
::: {#dnn_BodyTopPane .BodyTop .DNNEmptyPane}
:::
:::

::: {#MainBody}
::: {#dnn_PageFullPane .PageFull .DNNEmptyPane}
:::

::: {.Mpage}
::: {.row-fluid}
::: {#dnn_ContentPane .span12 .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Grid6APane .span6 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid6BPane .span6 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_LeftPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {.span9}
::: {.row-fluid}
::: {#dnn_HeaderAPane .span12 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Right6APane .span6 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Right6BPane .span6 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Right4APane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Right4BPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Right4CPane .span4 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_MiddleAPane .span12 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Right6CPane .span6 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Right6DPane .span6 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Right4XPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Right4YPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Right4ZPane .span4 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_BottomAPane .span12 .TextJustify .DNNEmptyPane}
:::
:::
:::
:::

::: {.row-fluid}
::: {#dnn_Grid4APane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid4BPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid4CPane .span4 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Grid3APane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid3BPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid3CPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid3DPane .span3 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Grid12APane .span12 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Grid6XPane .span6 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid6YPane .span6 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {.span9}
::: {.row-fluid}
::: {#dnn_HeaderXPane .span12 .TextJustify}
::: {.DnnModule .DnnModule-SunBlog .DnnModule-486}
[]{#486}

::: {.Container}
::: {.Container04Title .ctrFont}
[Recent blog entries]{#dnn_ctr486_dnnTITLE_titleLabel .Head}
============================================================
:::

::: {.CntPadding .Container04Content}
::: {#dnn_ctr486_ContentPane .DNNAlignleft}
::: {#dnn_ctr486_ModuleContent .DNNModuleContent .ModSunBlogC}
::: {#ajaxProgress style="display:none;"}
Loading, please wait.
:::

[]{#Top}

::: {.post style="margin-bottom:50px"}
Ardjson--Part 3: Command line Json: cURL.exe {#ardjsonpart-3-command-line-json-curl.exe .post-title}
--------------------------------------------

::: {.post-meta}
  Thursday, February 19, 2015 4:26 AM -   [David
Jones](http://www.embedded101.com/Blogs/David-Jones/authorid/107/David-Jones)
-  
[IOT](http://www.embedded101.com/Home/categoryid/172/Default "View all posts in IOT"),
[Azure](http://www.embedded101.com/Home/categoryid/230/Default "View all posts in Azure"),
[Json](http://www.embedded101.com/Home/categoryid/236/Default "View all posts in Json"),
[Universal
Apps](http://www.embedded101.com/Home/categoryid/237/Default "View all posts in Universal Apps"),
[Mobile
Services](http://www.embedded101.com/Home/categoryid/238/Default "View all posts in Mobile Services"),
[Microsoft Azure Mobile
Services](http://www.embedded101.com/Home/categoryid/239/Default "View all posts in Microsoft Azure Mobile Services"),
[cURL](http://www.embedded101.com/Home/categoryid/243/Default "View all posts in cURL"),
[Micrsoft
Azure](http://www.embedded101.com/Home/categoryid/245/Default "View all posts in Micrsoft Azure"),
[Arduino](http://www.embedded101.com/Home/categoryid/246/Default "View all posts in Arduino"),
[ardjson](http://www.embedded101.com/Home/categoryid/247/Default "View all posts in ardjson")
-   [0
Comments](http://www.embedded101.com/Blogs/David-Jones/entryid/560/cejsonpart-3-command-line-json-curlexe#Comments) 
:::

::: {.post-content}
**[Ardjson]{style="text-decoration: underline;"}**:
[https://ardjson.codeplex.com](https://ardjs.codeplex.com/)\
This now includes the batch files for this blog.

Previous: [Ardjson -- Part 2: Morphing The ToDo Sample Mobile Services
Project into the Telemetry
Project](http://embedded101.com/Blogs/David-Jones/entryid/557/CEJson-Part-2-Morphing-ToDo-Project-into-the-Telemetry-App)

------------------------------------------------------------------------

In my recent Comcamp MVP presentation at Microsoft Melbourne, I
introduced participants to the use of cURL.exe as a simple way of
interacting with a Microsoft Azure Mobile Service table. The
presentation slides, [\"Doing my first presentation today on
IOT\"](http://embedded101.com/Blogs/David-Jones/entryid/549/doing-my-first-presentation-today-on-iot),
is available through a previous blog on Embedded101. This was a lead
into generating and consuming JSon on Arduino devices which will be
covered later in this series of blogs. This blog is deep dive into using
cURL with the Azure Mobile Service tables from the ToDo and Telemetry
Universal Apps as covered in eth previous two blogs in this series.

### JSON

-   ***JSON** or **J**ava**S**cript **O**bject **N**otation, is an open
    standard format that uses human-readable text to transmit data
    objects consisting of attribute--value pairs. It is used primarily
    to transmit data between a server and web application, as an
    alternative to XML.\"*
    [Wikipedia](http://en.wikipedia.org/wiki/JSON)
-   Json is used to pass structured data over the internet in a textual
    format that is human readable and thus easy to create a parser to
    glean the entities in a Json message.
-   [Microsoft Azure Mobile
    Services](http://azure.microsoft.com/en-us/services/mobile-services/),
    a cloud service, passes data to/from clients using Json and so can
    be used to connect devices with the cloud that have an
    implementation of the parser.
-   Connectivity in this project uses REST HTML POST, GET, PUT (actually
    PATCH) and DELETE with Azure Mobile. This is based upon the sample
    service that can be created when you first create an Azure Mobile
    Service, the ToDo app. This app was "morphed" into a Telemetry app
    in the previous two apps.

------------------------------------------------------------------------

The endpoint of this sequence of blogs (Activity 1 in [CEJson on
Codeplex](https://cejson.codeplex.com/)) is to have an Arduino device
collecting telemetry data from sensors and directly storing this in the
Telemetry table in the Mobile Service, and to parse the received JSon
strings received by the device when it queries the Mobile Service

------------------------------------------------------------------------

Some JSon Examles
=================

##### Objects

{\"Name\":\"Jim\", \"Age\":27, \"Address\":\"Somewhere\"}\
{\"date\":\"12/01/2015\",\"sensor\":\"temperature1\",\"alarm\":\"hi\",\"resolvedq\":\"true\"}

 

##### Arrays

\[1,2,3,4\]\
\[\"John\", \"Sue\",Harry\]\
\[{\"Temp\",23.5},{\"Temp\",23.6},{\"Temp\",33.2}\]

 

##### An Azure Mobil Service Table

[![image](http://embedded101.com/Portals/0/SunBlogNuke/2/Windows-Live-Writer/CEJsonPart-3-Command-line-JSon-cURL.exe_12050/image_thumb.png "image"){width="1338"
height="65"}](http://embedded101.com/Portals/0/SunBlogNuke/2/Windows-Live-Writer/CEJsonPart-3-Command-line-JSon-cURL.exe_12050/image_2.png)

\"Prettied\" up:

::: {.csharpcode-wrapper}
[![image](http://embedded101.com/Portals/0/SunBlogNuke/2/Windows-Live-Writer/CEJsonPart-3-Command-line-JSon-cURL.exe_12050/image_thumb_1.png "image"){width="1351"
height="116"}](http://embedded101.com/Portals/0/SunBlogNuke/2/Windows-Live-Writer/CEJsonPart-3-Command-line-JSon-cURL.exe_12050/image_4.png)
:::

::: {.csharpcode-wrapper}
 
:::

::: {.csharpcode-wrapper}
Each line above is one record from the table.
:::

------------------------------------------------------------------------

::: {.csharpcode-wrapper}
 
:::

cURL.exe
========

[cURL.exe](http://curl.haxx.se/) is used in command lines or scripts to
transfer data using an URL syntax (c-URL). It can communicate directly
with an Azure Mobile Service over a network from command line or batch
file to post and retrieve data as well as to modify and delete existing
data. All that is needed is the URL for the service its AppKey and the
table to be access. The command line syntax is complex and hence its
parametrized use in scripts can make things easier.

***The following curl.exe action places the name value pair (test,42)
into the telemetry table:***

::: {#codeSnippetWrapper .csharpcode-wrapper}
``` {#codeSnippet .csharpcode}
curl -v -X POST -H Content-Type:application/json -H X-ZUMO-APPLICATION: NtcMLvQtuAqWtvXOwwZVQtpHevNUnN97 -d "{ \"test\" : 42 }" http://sportronicsdj.azure-mobile.net/tables/telemetry
```

\
:::

-   *Note: All of the above is on one line (and no space after the colon
    on the first line).*
-   [*http://sportronicsdj.azure-mobile.net*](http://sportronicsdj.azure-mobile.net)
    is the URL for the Mobile service that you get from the Azure Portal
    in the Mobile Service.
-   NtcMLvQtuAqWtvXOwwZVQtpHevNUnN97 is the AppKey that also you get
    from the Azure Portal.

***The following, as part of a batch file will return all of the records
in a table:***

::: {#codeSnippetWrapper .csharpcode-wrapper}
``` {#codeSnippet .csharpcode}
curl -v -X GET -H Content-Type:application/json -H X-ZUMO-APPLICATION:%AppKey% "%AzureMobileServiceURL%/tables/%MSTable%"
```

\
:::

-   The %..% items are the AppKey, the service URL and the target table,
    respectively, which are set in the batch file prior to this line.

 

A good reference for cURL with Mobile services is Mike Tault's Blog,
*"Experimenting with Windows Azure Mobile Services":*\
<http://mtaulty.com/CommunityServer/blogs/mike_taultys_blog/archive/2012/09/19/experimenting-with-windows-azure-mobile-services.aspx> \
The batch files presented here were based upon some suggestions from his
blog, also using much experimentation.

------------------------------------------------------------------------

Activity 1.2
============

This like Activity 1.1 has two parts: The ToDo app and the Telemetry
app. The zip file [1.2 Curl, JSON and
REST.zip](https://cejson.codeplex.com/downloads/get/1431641) available
on the CEJson Codeplex site contains a folder for each with some batch
files that are CRUD database examples. cURL.exe is also included in the
folders for simplicity but it suggested that you download the latest
version from curl.haxx.se.

Rather than reproduce the batch files here one is invited to inspect
them as in the zip file. The curl command line for various CRUD actions
are listed in the next blog in this series:\
[CEJson-Part 3b: cURL CRUD
Examples](http://embedded101.com/Blogs/David-Jones/entryid/561/CEJson-Part-3b-cURL-CRUD-Examples)

 

ToDo Folder Contents
--------------------

***These work directly with the same Azure Mobile Service ToDoItems
table as used by the ToDo Universal app example.***

[**env.bat**]{style="color: #0000ff;"}

-   Sets the Azure Mobile Service URL
-   Sets the app key (Note scrambled from my actual key)\
    These need to be set for your Azure Mobile Service from the Azure
    Portal

 

***The next three batch files perform the same actions as the ToDo
Universal app.***

****

[**toDoAdd.bat**]{style="color: #0000ff;"}

-   Adds a new ToDoItem
-   Requires the ToDoItem text as a command line parameter

        \* As per the ToDo app, adding a ToDoItem in left pane.

 

[**toDoGetActive.bat**]{style="color: #0000ff;"}

-   Gets all toDos not marked as complete as a Json string

        \* As per \[Refresh\] in the ToDo app

 

[**toDoSetComplete.bat**]{style="color: #0000ff;"}

-   Sets a toDoItem as complete
-   Requires the record\'s GUID as a command line parameter (without
    braces).

        \* As per checking a checkbox in the ToDo app

 

***The following batch files exemplify other CRUD database actions.***

****

[**toDoGetAll.bat**]{style="color: #0000ff;"}

-   Gets all toDoItem records in the table (as specified in the file) as
    a Json string

 

**[toDoGetComplete.bat]{style="color: #0000ff;"}**

-   \- Gets all toDos marked as complete as a Json string

 

[**toDoRename.bat**]{style="color: #0000ff;"}

-   Updates a record
-   Renames a ToDoItem.text to Read
-   Requires the record\'s GUID as a command line parameter (without
    braces).

 

[**toDoDelete.bat**]{style="color: #0000ff;"}

-   Deletes a ToDoItem
-   Requires the record\'s GUID as a command line parameter (without
    braces).

 

Telemetry Folder Contents
-------------------------

This contains two batch files both of which run through a battery of
CRUD actions. The difference is that the second one, after getting and
displaying a JSon string, then does a "mini-parse" of it so as to
display each record on a separate line, and does a heuristic count of
the records. As records are added, deleted and modified, it is easier to
see the changes with the second batch file.

***These work directly with the same Azure Mobile Service Telemetry
table as used by the Telemetry Universal app discussed previously in
this blog series.***

 

**[env.bat]{style="color: #0000ff;"}**

-   Sets the Azure Mobile Service URL
-   Sets the app key (Note scrambled from my actual key)

        These need to be set for your Azure Mobile Service from the
Azure Portal

 

[**telemetry.bat**]{style="color: #0000ff;"}

Performs a range of REST actions including

-   Get all records
-   -dd a new record
-   Get records based upon a numeric field (EQ and GT)
-   Get records based upon a string field (startswith)
-   Update a record
-   Delete a record

***[Notes ]{style="text-decoration: underline;"}***:Update (Patch) and
Delete actions require a specified GUID for the record to be actioned.\
             The GUID is passed as a command line parameter to the batch
file

 

[**telemetryWithDisplay.bat**]{style="color: #0000ff;"}

-   As per telemetry.bat
-   Each Json string is captured into json.txt file
-   And n then displayed
-   Also parsed by MiniJson.exe to separate into records (one per line)

 

**[MiniJson.exe]{style="color: #0000ff;"}**

-   \- The simple parser of string into records
-   \- Also counts number of records
-   \- Could be extended to do full Json parse

MiniJson Subfolder
------------------

-   \- The C\# .NET 4.5 Visual Studio 2013 Project for the MiniJson app
-   \- A Console App
-   \- Could easily be modified for earlier versions of .NET and Visual
    Studio

::: {#scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:079ed513-1022-4788-9780-c6fc8a054d23 .wlWriterSmartContent style="margin: 0px; padding: 0px; float: none; display: inline;"}
::: {style="border: 1px solid #000080; border-image: none; color: #000000; font-family: 'Courier New', courier, monospace; font-size: 10pt;"}
::: {style="background: #000080; padding: 2px 5px; color: #ffffff; font-family: verdana, tahoma, arial, sans-serif; font-weight: bold;"}
MiniJsin Console App C\# Code
:::

::: {style="background: #dddddd; overflow: auto; max-height: 300px;"}
1.  [using]{style="background: #ffffff; color: #0000ff;"}[
    System;]{style="background: #ffffff; color: #000000;"}
2.  [using]{style="background: #ffffff; color: #0000ff;"}[
    System.IO;]{style="background: #ffffff; color: #000000;"}
3.   
4.  [namespace]{style="background: #ffffff; color: #0000ff;"}[
    MiniJson]{style="background: #ffffff; color: #000000;"}
5.  [{]{style="background: #ffffff; color: #000000;"}
6.     
    []{style="background: #ffffff; color: #000000;"}[class]{style="background: #ffffff; color: #0000ff;"}[
    ]{style="background: #ffffff; color: #000000;"}[Program]{style="background: #ffffff; color: #2b91af;"}
7.      [{]{style="background: #ffffff; color: #000000;"}
8.         
    []{style="background: #ffffff; color: #000000;"}[///]{style="background: #ffffff; color: #808080;"}[
    ]{style="background: #ffffff; color: #008000;"}[\<summary\>]{style="background: #ffffff; color: #808080;"}
9.         
    []{style="background: #ffffff; color: #000000;"}[///]{style="background: #ffffff; color: #808080;"}[
    MinimalJson]{style="background: #ffffff; color: #008000;"}
10.        
    []{style="background: #ffffff; color: #000000;"}[///]{style="background: #ffffff; color: #808080;"}[
    Take a Json string and formats so that each record is on a separate
    line so that can see
    records.]{style="background: #ffffff; color: #008000;"}
11.        
    []{style="background: #ffffff; color: #000000;"}[///]{style="background: #ffffff; color: #808080;"}[
    Could be extended to do full JSon
    parse.]{style="background: #ffffff; color: #008000;"}
12.        
    []{style="background: #ffffff; color: #000000;"}[///]{style="background: #ffffff; color: #808080;"}[
    In batch file capture the cURL output to the temp file then call
    this app to display the
    results]{style="background: #ffffff; color: #008000;"}
13.        
    []{style="background: #ffffff; color: #000000;"}[///]{style="background: #ffffff; color: #808080;"}[
    ]{style="background: #ffffff; color: #008000;"}[\</summary\>]{style="background: #ffffff; color: #808080;"}
14.        
    []{style="background: #ffffff; color: #000000;"}[///]{style="background: #ffffff; color: #808080;"}[
    ]{style="background: #ffffff; color: #008000;"}[\<param
    name=\"args\"\>]{style="background: #ffffff; color: #808080;"}[The
    name of the temporary file that contains the JSon
    string]{style="background: #ffffff; color: #008000;"}[\</param\>]{style="background: #ffffff; color: #808080;"}
15.        
    []{style="background: #ffffff; color: #000000;"}[static]{style="background: #ffffff; color: #0000ff;"}[
    ]{style="background: #ffffff; color: #000000;"}[void]{style="background: #ffffff; color: #0000ff;"}[
    Main(]{style="background: #ffffff; color: #000000;"}[string]{style="background: #ffffff; color: #0000ff;"}[
    args)]{style="background: #ffffff; color: #000000;"}
16.         [{]{style="background: #ffffff; color: #000000;"}
17.             []{style="background: #ffffff; color: #000000;"}[// Json
    string to be read from temp
    file]{style="background: #ffffff; color: #008000;"}
18.            
    []{style="background: #ffffff; color: #000000;"}[StreamReader]{style="background: #ffffff; color: #2b91af;"}[
    sr =
    ]{style="background: #ffffff; color: #000000;"}[new]{style="background: #ffffff; color: #0000ff;"}[
    ]{style="background: #ffffff; color: #000000;"}[StreamReader]{style="background: #ffffff; color: #2b91af;"}[(args\[0\]);]{style="background: #ffffff; color: #000000;"}
19.            
    []{style="background: #ffffff; color: #000000;"}[string]{style="background: #ffffff; color: #0000ff;"}[
    jsn = sr.ReadToEnd();]{style="background: #ffffff; color: #000000;"}
20.  
21.             []{style="background: #ffffff; color: #000000;"}[//Set
    of records starts with \[ and ends with
    \]]{style="background: #ffffff; color: #008000;"}
22.             [jsn =
    jsn.Replace(]{style="background: #ffffff; color: #000000;"}[\"\"]{style="background: #ffffff; color: #a31515;"}[,
    ]{style="background: #ffffff; color: #000000;"}[\"\\r\\n\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
    Records Done 
    \\r\\n\"]{style="background: #ffffff; color: #a31515;"}[);]{style="background: #ffffff; color: #000000;"}
23.            []{style="background: #ffffff; color: #000000;"}
24.             []{style="background: #ffffff; color: #000000;"}[//Each
    record ends in } so place CR LF after so each record is on one
    line]{style="background: #ffffff; color: #008000;"}
25.             [jsn =
    jsn.Replace(]{style="background: #ffffff; color: #000000;"}[\"},\"]{style="background: #ffffff; color: #a31515;"}[,
    ]{style="background: #ffffff; color: #000000;"}[\"}\\r\\n\"]{style="background: #ffffff; color: #a31515;"}[);]{style="background: #ffffff; color: #000000;"}
26.  
27.             []{style="background: #ffffff; color: #000000;"}[//Each
    record begins with { so count them in the
    string]{style="background: #ffffff; color: #008000;"}
28.            
    []{style="background: #ffffff; color: #000000;"}[int]{style="background: #ffffff; color: #0000ff;"}[
    numRecords  =
    jsn.Split(]{style="background: #ffffff; color: #000000;"}[\'{\']{style="background: #ffffff; color: #a31515;"}[).Length
    ;]{style="background: #ffffff; color: #000000;"}
29.             []{style="background: #ffffff; color: #000000;"}
30.  
31.            
    []{style="background: #ffffff; color: #000000;"}[//Display
    results]{style="background: #ffffff; color: #008000;"}
32.            
    []{style="background: #ffffff; color: #000000;"}[Console]{style="background: #ffffff; color: #2b91af;"}[.WriteLine(jsn);]{style="background: #ffffff; color: #000000;"}
33.            
    []{style="background: #ffffff; color: #000000;"}[Console]{style="background: #ffffff; color: #2b91af;"}[.WriteLine(]{style="background: #ffffff; color: #000000;"}[\"\\r\\nNumber
    of Records=
    {0}\\r\\n\"]{style="background: #ffffff; color: #a31515;"}[,
    numRecords);]{style="background: #ffffff; color: #000000;"}
34.         [}]{style="background: #ffffff; color: #000000;"}
35.     [}]{style="background: #ffffff; color: #000000;"}
36. [}]{style="background: #ffffff; color: #000000;"}
:::
:::
:::

 

Discussion
----------

To run these batch files (in either folder), you need to set the URL and
AppKey in env.bat, which is called by all of the other batch files. The
ToDo batch files each have a separate action whereas the telemetry batch
files run through a suite of actions.

The update and delete batch files require the id which is a GUID of the
specific record to be actioned upon. No filters can be used for these
actions.\
There is a syntax for filters with GET though:

\<The table URL\>?\$filter=(complete+eq+true)\" gets all of the items
marked as complete.\
\<The table URL\>?\$filter=(complete+eq+false)\" gets all of the items
that are still "to do".\
\<The table URL\> ?\$filter=(startswith(sensor,\'Temperature\')) gets
all records whose sensor field starts with Temperature\
\<The table URL\> ?\$filter=(value%%20eq%%20137)\" gets all records
whose value field equal 137\
\<The table URL\> ?\$filter=(value%%20gt%%2060)\" gets all records whose
value field is greater than 60

[Enjoy
![Smile](http://embedded101.com/Portals/0/SunBlogNuke/2/Windows-Live-Writer/CEJsonPart-3-Command-line-JSon-cURL.exe_12050/wlEmoticon-smile_2.png){.wlEmoticon
.wlEmoticon-smile}]{style="font-size: 13px;"}

------------------------------------------------------------------------

------------------------------------------------------------------------

***[Next:]{style="text-decoration: underline;"}*** [Ardjson-Part 3b:
cURL CRUD
Examples](http://embedded101.com/Blogs/David-Jones/entryid/561/CEJson-Part-3b-cURL-CRUD-Examples)

------------------------------------------------------------------------

------------------------------------------------------------------------
:::

::: {.post-tags}
 TAGS: [Arduino](http://www.embedded101.com/Home/tag/Arduino){.metaTag},
[Azure](http://www.embedded101.com/Home/tag/Azure){.metaTag},
[CEJson](http://www.embedded101.com/Home/tag/CEJson){.metaTag},
[ArdJson](http://www.embedded101.com/Home/tag/ArdJson){.metaTag}
:::
:::

::: {.share-block .bookmarks .bookmarks-expand .bookmarks-bg-enjoy}
### Share this post

::: {style="clear:both"}
:::
:::

::: {#nav-below .navigation}
::: {.nav-previous}
[«]{.meta-nav} [Ardjson -- Part 2: Morphing The ToDo Sample Mobile
Services Project into the Telemetry
Project](http://www.embedded101.com/Blogs/David-Jones/entryid/557/cejson-part-2-morphing-todo-project-into-the-telemetry-app "Previous post")
:::

::: {.nav-next}
[Ardjson-Part 3b: cURL CRUD
Examples](http://www.embedded101.com/Blogs/David-Jones/entryid/561/cejson-part-3b-curl-crud-examples "Next Post")
[»]{.meta-nav}
:::

::: {.clearfix}
:::
:::

::: {#relatedPosts}
### Possibly related posts:

-   [Dragonboard 410c: Android Debug Bridge (ADB) - GPIO Musings: Blinky
    Part
    1](http://www.embedded101.com/Blogs/David-Jones/entryid/747/Dragonboard-410c-Android-Debug-Bridge-ADB-GPIO-Musings-Part-1 "In this activity we will use the ADB command line and shell running on the development system, to directly manipulate the Dragonboard 410c GPIO pins. A version of "Blinky" will be implemented that periodically flashes a LED of the target. A second version...")
-   [DJs Weekly Blog V1.3--Hyper-V: Compact 2013 Virtual CEPC Setup and
    VM COM
    Ports](http://www.embedded101.com/Blogs/David-Jones/entryid/417/DJs-Weekly-Blog-V1-3-Hyper-V-Compact-2013-Virtual-CEPC-Setup-and-VM-COM-Ports "Topics:     Windows Embedded Compact 2013 Updates     Configuring Compact 2013 Virtual CEPC for Compact 2013     HVCaptureCOM (on Codeplex): Configuring and accessing VM COM ports     CELoader (On Codeplex): Launching a vCEPC directly from an nk.bin image...")
-   [DJs Weekly Blog V1.4 -- Compact13Tools V4.0, Shortcuts, Start Menu
    and CESerialTerm
    App](http://www.embedded101.com/Blogs/David-Jones/entryid/425/djs-weekly-blog-v1-4-compact13tools-v4-0-shortcuts-start-menu-and-ceserialterm-app "Topics:

        Announcement:: CESerialTerm
        
            A Simple Serial Terminal for Compact 2013/7 
        
        
        Updates in Compact13Tools Version 4.0
        
            Includes a Windows style Start Menu 
        
        
        A Deep Dive in Compact13Tools...")
-   [DJs Weekly Blog V1.2 -- Hyper-V Networking
    (Windows 8)](http://www.embedded101.com/Blogs/David-Jones/entryid/413/djs-weekly-blog-v1-2-hyper-v-networking-windows-8- "Topics     Hyper-V Networking             About         Virtual Network Switch         VM Network Adapter")
-   [Windows 10 IoT: Windows Remote Arduino and Universal Windows
    Platform
    Apps](http://www.embedded101.com/Blogs/David-Jones/entryid/636/Windows-10-IoT-Windows-Remote-Arduino-and-Universal-Windows-Platform-Apps "A Windows 10 UWP app can be built upon the Remote-Wiring library such that the app can interact with an Arduino device running Firmata. An app, similar to the Windows Remote Arduino “Blinky” example, but with feature additions, is developed. It performs G...")

::: {style="clear:both;"}
:::
:::

::: {#dnn_ctr486_MainView_ViewEntry_ctl01_divCommentHeader .discuss}
Comments
--------

To minimize spam, Please log in to leave comment.
:::

[]{#Comments}
:::
:::
:::
:::
:::
:::
:::

::: {.row-fluid}
::: {#dnn_Left6WPane .span6 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Left6XPane .span6 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Left4APane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Left4BPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Left4CPane .span4 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_MiddleXPane .span12 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Left6YPane .span6 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Left6ZPane .span6 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Left4XPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Left4YPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Left4ZPane .span4 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_BottomXPane .span12 .TextJustify .DNNEmptyPane}
:::
:::
:::

::: {#dnn_RightPane .span3 .TextJustify}
::: {.DnnModule .DnnModule-DNN_HTML .DnnModule-819}
[]{#819}

::: {.Container}
::: {.Container04Title .ctrFont}
[Windows Embedded Compact 7]{#dnn_ctr819_dnnTITLE_titleLabel .Head}
===================================================================
:::

::: {.CntPadding .Container04Content}
::: {#dnn_ctr819_ContentPane}
::: {#dnn_ctr819_ModuleContent .DNNModuleContent .ModDNNHTMLC}
::: {#dnn_ctr819_HtmlModule_lblContent .Normal}
The Windows Embedded Compact 7 (Compact 7) getting started series is
created to provide simple and easy to follow information to help
academic, hobbyist and commercial developers to learn and engage in
Compact 7 development.\
\
\*\*\*This is a series of 9 articles, with additional supplements, that
cover the following subjects:

-   Development environment
-   OS design
-   Managed code application
-   Native code application
-   Silverlight for Windows Embedded application
-   SQL Compact database application
-   Debug and remote tools
-   More..

[http://www.embedded101.com/compact7.aspx](/compact7.aspx)
:::
:::
:::
:::
:::
:::

::: {.DnnModule .DnnModule-DNNArticleList .DnnModule-642}
[]{#642}

::: {.Container}
::: {.Container04Title .ctrFont}
[Embedded101 Articles & Application Notes]{#dnn_ctr642_dnnTITLE_titleLabel .Head}
=================================================================================
:::

::: {.CntPadding .Container04Content}
::: {#dnn_ctr642_ContentPane .DNNAlignleft}
::: {#dnn_ctr642_ModuleContent .DNNModuleContent .ModDNNArticleListC}
::: {#dnn_ctr642_DNNArticle_List_MyArticleList_LoadingPanel1 restoreoriginalrenderdelegate="false" style="display:none;background-color:#EEEEEE;border-width:1px;border-style:Solid;height:64px;width:256px;"}
  -------------------------------------------------------------------------------------------------------------
  ![loading](/desktopmodules/dnnarticle/images/loading.gif){#dnn_ctr642_DNNArticle_List_MyArticleList_Image1}
  -------------------------------------------------------------------------------------------------------------
:::

+-----------------------------------------------------------------------+
| ::: {.ZLDNN_ListItem}                                                 |
| [Apr]{.pub-month}[10[CEDriverWiz Version 2.00: Using the              |
| Wizard](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/47/CEDriverWiz-Version-2-00-Using-the-Wizard){.SubHead           |
| .articletitle}\                                                       |
| [ Created by David Jones on 4/10/2013 8:56:42 AM]{.SubSubHead .clear} |
| ]{.pub-date}                                                          |
|                                                                       |
| ::: {.Normal}                                                         |
|   Book Links: \...                                                    |
| :::                                                                   |
|                                                                       |
| [Read                                                                 |
| More..](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/47/CEDriverWiz-Version-2-00-Using-the-Wizard){.CommandButton}    |
|                                                                       |
| -------------------------------------------------------------------   |
| :::                                                                   |
+-----------------------------------------------------------------------+
| ::: {.ZLDNN_ListItem}                                                 |
| [Apr]{.pub-month}[10[CEDriverWiz Version 2.00: An                     |
| Example](http://www.embedded101.com/Articles/Embedded101-Article/Arti |
| cleId/46/CEDriverWiz-Version-2-00-An-Example){.SubHead                |
| .articletitle}\                                                       |
| [ Created by David Jones on 4/10/2013 7:28:32 AM]{.SubSubHead .clear} |
| ]{.pub-date}                                                          |
|                                                                       |
| ::: {.Normal}                                                         |
| Book Links: \...                                                      |
| :::                                                                   |
|                                                                       |
| [Read                                                                 |
| More..](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/46/CEDriverWiz-Version-2-00-An-Example){.CommandButton}          |
|                                                                       |
| -------------------------------------------------------------------   |
| :::                                                                   |
+-----------------------------------------------------------------------+
| ::: {.ZLDNN_ListItem}                                                 |
| [Apr]{.pub-month}[09[Installing CEDriverWiz for Visual                |
| Studio](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/45/Installing-CEDriverWiz-for-Visual-Studio){.SubHead            |
| .articletitle}\                                                       |
| [ Created by David Jones on 4/9/2013 8:41:27 AM]{.SubSubHead .clear}  |
| ]{.pub-date}                                                          |
|                                                                       |
| ::: {.Normal}                                                         |
| Install Visual Studio 2012/2008/2005 (depending upon your version of  |
| CE/Compact) and all of t\...                                          |
| :::                                                                   |
|                                                                       |
| [Read                                                                 |
| More..](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/45/Installing-CEDriverWiz-for-Visual-Studio){.CommandButton}     |
|                                                                       |
| -------------------------------------------------------------------   |
| :::                                                                   |
+-----------------------------------------------------------------------+
| ::: {.ZLDNN_ListItem}                                                 |
| [Apr]{.pub-month}[01[CEDriverWiz V2.00: About this                    |
| release](http://www.embedded101.com/Articles/Embedded101-Article/Arti |
| cleId/44/CEDriverWiz-V2-00-About-this-release){.SubHead               |
| .articletitle}\                                                       |
| [ Created by David Jones on 4/1/2013 7:33:39 AM]{.SubSubHead .clear}  |
| ]{.pub-date}                                                          |
|                                                                       |
| ::: {.Normal}                                                         |
| This brings the wizard in line with our Wrox book: \"Professional     |
| Windows Embedded Compact 7\" . \...                                   |
| :::                                                                   |
|                                                                       |
| [Read                                                                 |
| More..](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/44/CEDriverWiz-V2-00-About-this-release){.CommandButton}         |
|                                                                       |
| -------------------------------------------------------------------   |
| :::                                                                   |
+-----------------------------------------------------------------------+
| ::: {.ZLDNN_ListItem}                                                 |
| [Apr]{.pub-month}[01[CEDriverWiz Version 2.00 User                    |
| Manual](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/43/CEDriverWiz-Version-2-00-User-Manual){.SubHead                |
| .articletitle}\                                                       |
| [ Created by David Jones on 4/1/2013 6:40:34 AM]{.SubSubHead .clear}  |
| ]{.pub-date}                                                          |
|                                                                       |
| ::: {.Normal}                                                         |
| Index                                                                 |
| :::                                                                   |
|                                                                       |
| [Read                                                                 |
| More..](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/43/CEDriverWiz-Version-2-00-User-Manual){.CommandButton}         |
|                                                                       |
| -------------------------------------------------------------------   |
| :::                                                                   |
+-----------------------------------------------------------------------+
| ::: {.ZLDNN_ListItem}                                                 |
| [May]{.pub-month}[15[Configure Flash Storage to Launch Compact 7 OS   |
| Runtime with                                                          |
| DiskPrep](http://www.embedded101.com/Articles/Embedded101-Article/Art |
| icleId/32/Configure-Flash-Storage-to-Launch-Compact-7-OS-Runtime-with |
| -DiskPrep){.SubHead                                                   |
| .articletitle}\                                                       |
| [ Created by Sam Phung on 5/15/2012 8:41:50 PM]{.SubSubHead .clear}   |
| ]{.pub-date}                                                          |
|                                                                       |
| ::: {.Normal}                                                         |
| The DiskPrep powertoy is a useful utility to configure different type |
| of flash storage to launch Wi\...                                     |
| :::                                                                   |
|                                                                       |
| [Read                                                                 |
| More..](http://www.embedded101.com/Articles/Embedded101-Article/Artic |
| leId/32/Configure-Flash-Storage-to-Launch-Compact-7-OS-Runtime-with-D |
| iskPrep){.CommandButton}                                              |
|                                                                       |
| -------------------------------------------------------------------   |
| :::                                                                   |
+-----------------------------------------------------------------------+

::: {#dnn_ctr642_DNNArticle_List_MyArticleList_MyPageNav_pnlPageNav .Normal .PageNav}
[](javascript:__doPostBack('dnn$ctr642$DNNArticle_List$MyArticleList$MyPageNav$cmdPrev','')){#dnn_ctr642_DNNArticle_List_MyArticleList_MyPageNav_cmdPrev
.imgPrevious .imgPreviousUDF} [
Page:]{#dnn_ctr642_DNNArticle_List_MyArticleList_MyPageNav_lbPage
.Normal} 1 2 3 4 5   [ of
]{#dnn_ctr642_DNNArticle_List_MyArticleList_MyPageNav_lbof}
[5]{#dnn_ctr642_DNNArticle_List_MyArticleList_MyPageNav_lbTotlePage} 
[](javascript:__doPostBack('dnn$ctr642$DNNArticle_List$MyArticleList$MyPageNav$cmdNext','')){#dnn_ctr642_DNNArticle_List_MyArticleList_MyPageNav_cmdNext
.imgNext .imgNextUDF}
:::

[More](http://www.embedded101.com/tabid/40/Default.aspx){#dnn_ctr642_DNNArticle_List_lnkMore
.CommandButton .MoreLink}
:::
:::
:::
:::
:::
:::
:::

::: {.row-fluid}
::: {#dnn_Grid12BPane .span12 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Grid4XPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid4YPane .span4 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid4ZPane .span4 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Grid3WPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid3XPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid3YPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Grid3ZPane .span3 .TextJustify .DNNEmptyPane}
:::
:::

::: {.row-fluid}
::: {#dnn_Grid12CPane .span12 .TextJustify .DNNEmptyPane}
:::
:::
:::
:::

::: {#FooterSocial}
::: {#dnn_HappyClientPane .TextJustify .DNNEmptyPane}
:::

::: {.row-fluid}
::: {#dnn_FooterSocialPane .span12 .TextJustify .DNNEmptyPane}
:::
:::
:::

::: {#MainFooter}
::: {.row-fluid}
::: {#dnn_Footer3APane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Footer3BPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Footer3CPane .span3 .TextJustify .DNNEmptyPane}
:::

::: {#dnn_Footer3DPane .span3 .TextJustify .DNNEmptyPane}
:::
:::
:::

::: {#MainCopyright}
::: {.row-fluid}
::: {.FooterBottom}
::: {#dnn_FooterMenu .span6 .DNNEmptyPane}
:::

::: {#Copyright .span6 .Copyright}
[Copyright 2013 by Embedded101]{#dnn_COPYRIGHT1_lblCopyright
.SkinObject} : [Terms Of
Use](http://www.embedded101.com/Terms){#dnn_dnnTerms_hypTerms
.SkinObject} : [Privacy
Statement](http://www.embedded101.com/Privacy){#dnn_dnnPrivacy_hypPrivacy
.SkinObject}
:::
:::
:::
:::
:::
:::

[Turkish porno izle video site in rokettube[porno
izle](http://www.xn--rokettube-86d.com/ "porno izle")]{style="overflow: auto; position: absolute; height: 0pt; width: 0pt;"}
